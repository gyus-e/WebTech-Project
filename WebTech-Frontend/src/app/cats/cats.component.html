<section class="cats-section">
    <h1 class="title">Cats</h1>
    @if (authState.isAuthenticated()){
    <form class="upload-cat-form" [formGroup]="uploadCatForm" (ngSubmit)="onSubmit()">
        <div>
            <!-- <label for="name">Name</label> -->
            <input type="text" formControlName="name" id="name" placeholder="Enter cat name" required />
        </div>
        <button type="submit">Upload New Cat</button>
    </form>
    }

    <ul>
        @for (cat of catsState.cats(); track cat){
        <li>
            <h1>{{cat.name}}</h1>
            <a [routerLink]="['/cats', cat.id]">
                @let profilePicUrl = catsState.catProfilePics().get(cat.id) ?? '/assets/yamamaya.jpg';
                <img [src]="profilePicUrl" alt="{{cat.name}}" />
            </a>
        </li>
        }
    </ul>
</section>